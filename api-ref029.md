## policy/quota

### QuotaCheck

Allows you to verify the quota for a given identity in a given namespace
with the given tags.

#### Example

```json
{
  "targetIdentity": "processingunit",
  "targetNamespace": "/my/namespace"
}
```

#### Relations

##### `POST /quotacheck`

Verifies if the quota is exceeded for a particular object.

Parameters:

- `remaining` (`boolean`): Makes the system count how many object are left available in the quota.

#### Attributes

##### `quota` `integer` [`autogenerated`,`read_only`]

Contains the maximum number of matching entities that can be created.

##### `remaining` `integer` [`autogenerated`,`read_only`]

If the parameter `remaining=true` is passed, this value will be populated with
the number of remaining objects in the quota.

Default value:

```json
-1
```

##### `targetIdentity` `string` [`required`]

The identity name of the object you want to check the quota on.

##### `targetNamespace` `string`

The namespace from which you want to check the quota on.

### QuotaPolicy

Allows you to set quotas on the number of objects that can be
created in a namespace.

#### Example

```json
{
  "disabled": false,
  "fallback": false,
  "identities": [
    "processingunit",
    "enforcer"
  ],
  "name": "the name",
  "propagate": false,
  "propagationHidden": false,
  "protected": false,
  "targetNamespace": "/my/namespace"
}
```

#### Relations

##### `GET /quotapolicies`

Retrieves the list of quotas.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.
- `propagated` (`boolean`): Also retrieve the objects that propagate down.

##### `POST /quotapolicies`

Creates a new quota.

##### `DELETE /quotapolicies/:id`

Deletes the quota with the given ID.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `GET /quotapolicies/:id`

Retrieves the quota with the given ID.

##### `PUT /quotapolicies/:id`

Updates the quota with the given ID.

#### Attributes

##### `ID` `string` [`identifier`,`autogenerated`,`read_only`]

Identifier of the object.

##### `annotations` `map[string][]string`

Stores additional information about an entity.

##### `associatedTags` `[]string`

List of tags attached to an entity.

##### `createTime` `time` [`autogenerated`,`read_only`]

Creation date of the object.

##### `description` `string` [`max_length=1024`]

Description of the object.

##### `disabled` `boolean`

Defines if the property is disabled.

##### `expirationTime` `time`

If set the quota will be automatically deleted after the given time.

##### `fallback` `boolean`

Indicates that this is fallback policy. It will only be
applied if no other policies have been resolved. If the policy is also
propagated it will become a fallback for children namespaces.

##### `identities` `[]string` [`required`]

Contains the list of identity names where the quota will be applied.

##### `metadata` `[]string` [`creation_only`]

Contains tags that can only be set during creation, must all start
with the '@' prefix, and should only be used by external systems.

##### `name` `string` [`required`,`max_length=256`]

Name of the entity.

##### `namespace` `string` [`autogenerated`,`read_only`]

Namespace tag attached to an entity.

##### `normalizedTags` `[]string` [`autogenerated`,`read_only`]

Contains the list of normalized tags of the entities.

##### `propagate` `boolean`

Propagates the policy to all of its children.

##### `propagationHidden` `boolean`

If set to `true` while the policy is propagating, it won't be visible to
children
namespace, but still used for policy resolution.

##### `protected` `boolean`

Defines if the object is protected.

##### `quota` `integer`

Specifies the maximum number of objects matching the policy subject that can be created.

##### `targetNamespace` `string` [`required`]

Contains the base namespace from where the count will be done.

##### `updateTime` `time` [`autogenerated`,`read_only`]

Last update date of the object.

