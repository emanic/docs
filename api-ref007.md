## core/namespace

### Namespace

A namespace represents the core organizational unit of the system. All objects
always exist in a single namespace. A namespace can also have child namespaces.
They can be used to split the system into organizations, business units,
applications, services or any combination you like.

#### Example

```json
{
  "JWTCertificateType": "None",
  "SSHCAEnabled": false,
  "customZoning": false,
  "localCAEnabled": false,
  "name": "mynamespace",
  "protected": false,
  "serviceCertificateValidity": "168h"
}
```

#### Relations

##### `GET /namespaces`

Retrieves the list of namespaces.

Parameters:

- `authorized` (`boolean`): Returns all namespaces the token bearer has the right to read. If set, other parameters like `recursive` or `q` will have no effect.
- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `POST /namespaces`

Creates a new namespace.

##### `DELETE /namespaces/:id`

Deletes the namespace with the given ID.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `GET /namespaces/:id`

Retrieves the namespace with the given ID.

##### `PUT /namespaces/:id`

Updates the namespace with the given ID.

##### `GET /namespaces/:id/oauthinfo`

Retrieves the OAUTH info for this namespace.

Parameters:

- `mode` (`enum(oidc)`): When set to type `OIDC` it will return the data as a raw JSON object and not an Aporeto compatible API.

##### `GET /namespaces/:id/oauthkeys`

Retrieves the OAUTH info for this namespace.

Parameters:

- `mode` (`enum(oidc)`): When set to `OIDC` it will return the data as a raw JSON object and not an Aporeto compatible API.

##### `GET /namespaces/:id/trustedcas`

Returns the list of trusted CAs for this namespace.

Parameters:

- `type` (`enum(Any | X509 | SSH | JWT)`): Type of certificate to get.

#### Attributes

##### `ID` `string` [`identifier`,`autogenerated`,`read_only`]

Identifier of the object.

##### `JWTCertificateType` `enum(RSA | EC | None)`

JWTCertificateType defines the JWT signing certificate that must be created
for this namespace. If the type is none no certificate will be created.

Default value:

```json
"None"
```

##### `JWTCertificates` `map[string]string` [`autogenerated`,`read_only`]

JWTCertificates hold the certificates used to sign tokens for this namespace.
This is map indexed by the ID of the certificate.

##### `SSHCA` `string` [`autogenerated`,`read_only`]

The SSH certificate authority used by the namespace.

##### `SSHCAEnabled` `boolean`

If `true`, an SSH certificate authority (CA) will be generated for the
namespace. This CA can be deployed in SSH server to validate SSH certificates
issued by the controller.

##### `annotations` `map[string][]string`

Stores additional information about an entity.

##### `associatedSSHCAID` `string` [`read_only`]

The remote ID of the SSH certificate authority to use.

##### `associatedTags` `[]string`

List of tags attached to an entity.

##### `createTime` `time` [`autogenerated`,`read_only`]

Creation date of the object.

##### `customZoning` `boolean` [`creation_only`]

Defines if the namespace should inherit its parent zone. If this property is set
to `false`,  the `zoning` property will be ignored and the namespace will have
the same zone as its parent.

##### `description` `string` [`max_length=1024`]

Description of the object.

##### `localCA` `string` [`autogenerated`,`read_only`]

The certificate authority used by this namespace.

##### `localCAEnabled` `boolean`

Defines if the namespace should use a local certificate
authority (CA). Switching it off and on again will regenerate a new CA.

##### `metadata` `[]string` [`creation_only`]

Contains tags that can only be set during creation, must all start
with the '@' prefix, and should only be used by external systems.

##### `name` `string` [`required`,`creation_only`,`format=^[a-zA-Z0-9-_/]+$`]

The name of the namespace.

##### `namespace` `string` [`autogenerated`,`read_only`]

Namespace tag attached to an entity.

##### `networkAccessPolicyTags` `[]string`

_This attribute is deprecated_.

List of tags that will be added to every `or` clause of all network access
policies in the namespace and its children.

##### `normalizedTags` `[]string` [`autogenerated`,`read_only`]

Contains the list of normalized tags of the entities.

##### `organizationalMetadata` `[]string`

List of tags that describe this namespace. All organizational tags are
automatically passed to policeable objects (e.g. processing units, external
networks, enforcers) during their creation.

##### `protected` `boolean`

Defines if the object is protected.

##### `serviceCertificateValidity` `string`

_This attribute is deprecated_.

This flag is deprecated and has no incidence.

Default value:

```json
"168h"
```

##### `updateTime` `time` [`autogenerated`,`read_only`]

Last update date of the object.

##### `zoning` `integer` [`creation_only`]

Defines what zone the namespace should live in.

### NamespaceMappingPolicy

A namespace mapping defines the namespace a processing unit should
be placed when it is created, based on its tags.  When an Aporeto agent creates
a new processing unit, the system will place it in its own namespace if no
matching namespace mapping can be found. If one match is found, then the
processing unit will be bumped down to the namespace declared in the namespace mapping. If it
finds in that child namespace another matching namespace mapping, then
the processing unit will be bumped down again, until it reaches a namespace with
no matching namespace mappings.  This is very useful to dispatch processes and containers
into a particular namespace, based on a lot of factors. For example, you can put in place a
quarantine namespace mapping that will grab all processing units with excessive
vulnerabilities.

#### Example

```json
{
  "disabled": false,
  "mappedNamespace": "/blue/namespace",
  "name": "the name",
  "protected": false,
  "subject": [
    [
      "color=blue"
    ]
  ]
}
```

#### Relations

##### `GET /namespacemappingpolicies`

Retrieves the list namespace mappings.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `POST /namespacemappingpolicies`

Creates a new namespace mapping.

##### `DELETE /namespacemappingpolicies/:id`

Deletes the mapping with the given ID.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `GET /namespacemappingpolicies/:id`

Retrieves the mapping with the given ID.

##### `PUT /namespacemappingpolicies/:id`

Updates the mapping with the given ID.

#### Attributes

##### `ID` `string` [`identifier`,`autogenerated`,`read_only`]

Identifier of the object.

##### `annotations` `map[string][]string`

Stores additional information about an entity.

##### `associatedTags` `[]string`

List of tags attached to an entity.

##### `createTime` `time` [`autogenerated`,`read_only`]

Creation date of the object.

##### `description` `string` [`max_length=1024`]

Description of the object.

##### `disabled` `boolean`

Defines if the property is disabled.

##### `mappedNamespace` `string` [`required`,`format=^[a-zA-Z0-9-_/]+$`]

The namespace to map the `subject` to.

##### `metadata` `[]string` [`creation_only`]

Contains tags that can only be set during creation, must all start
with the '@' prefix, and should only be used by external systems.

##### `name` `string` [`required`,`max_length=256`]

Name of the entity.

##### `namespace` `string` [`autogenerated`,`read_only`]

Namespace tag attached to an entity.

##### `normalizedTags` `[]string` [`autogenerated`,`read_only`]

Contains the list of normalized tags of the entities.

##### `protected` `boolean`

Defines if the object is protected.

##### `subject` `[][]string`

A tag or tag expression identifying the entity to be mapped.

##### `updateTime` `time` [`autogenerated`,`read_only`]

Last update date of the object.

### OrganizationalMetadata

Can be used to retrieve the organizational metadata of the namespace.

#### Relations

##### `GET /organizationalmetadata`

Retrieves the list of organizational metadata for the namespace and its
namespace hierarchy.

#### Attributes

##### `metadata` `[]string`

List of organizational metadata for the namespace.

##### `namespace` `string` [`autogenerated`,`read_only`]

Namespace tag attached to an entity.

