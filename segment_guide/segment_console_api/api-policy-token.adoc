== policy/token

=== ServiceToken

This API issues a new service token using the namespace certificate that
can be used by third party applications.

==== Example

[source,json]
----
{
  "objectID": "5c83035648675400019ab901",
  "sessionID": "5c83035648675400019ab901",
  "type": "Service",
  "validity": "15m"
}
----

==== Relations

===== `POST /servicetoken`

Creates an OAUTH compatible service token.

==== Attributes

===== `audience`

Type: `string`

If given, the issued token will only be valid for the audience provided.
If empty, the audience will be resolved from the policies. If no
audience can be resolved, the request will be rejected with an error.

===== `objectID`

Type: `string`

ID of the object you want to issue a token for.

===== `sessionID`

Type: `string`

Provides the session ID of the defender when retrieving a datapath
certificate.

===== `token` [`autogenerated`,`read_only`]

Type: `string`

Token is the signed JWT service token.

===== `type`

Type: `enum(ProcessingUnit | Service)`

Type of token request.

Default value:

[source,json]
----
"Service"
----

===== `validity`

Type: `string`

Validity configures the max validity time for a token. If it is bigger
than the configured max validity, it will be capped.

Default value:

[source,json]
----
"15m"
----
