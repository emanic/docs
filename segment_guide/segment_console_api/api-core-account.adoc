== core/account

=== Account

Allows you to view and manage basic information about your account like
your name, password, and whether or not two-factor authentication is
enabled.

==== Example

[source,json]
----
{
  "OTPEnabled": false,
  "SSHCARenew": false,
  "accessEnabled": false,
  "company": "Acme",
  "email": "user@acme.com",
  "firstName": "John",
  "lastName": "Doe",
  "localCARenew": false,
  "name": "acme"
}
----

==== Relations

===== `GET /accounts`

Retrieves all accounts. This is a private API that can only be done by
the system.

Parameters:

* `associatedBillingID` (`string`): internal parameters.
* `name` (`string`): internal parameters.
* `status` (`string`): internal parameters.
* `q` (`string`): Filtering query. Consequent `q` parameters will form
an or.

===== `POST /accounts`

Creates a new account.

===== `DELETE /accounts/:id`

Deletes the object with the given ID.

Parameters:

* `q` (`string`): Filtering query. Consequent `q` parameters will form
an or.

===== `GET /accounts/:id`

Retrieves the object with the given ID.

===== `PUT /accounts/:id`

Updates the object with the given ID.

==== Attributes

===== `ID` `string` [`identifier`,`autogenerated`,`read_only`]

Identifier of the object.

===== `OTPEnabled` `boolean`

Enable or disable two-factor authentication.

===== `OTPQRCode` `string` [`autogenerated`,`read_only`]

Returns the base64-encoded QR code for setting up two-factor
authentication.

===== `SSHCA` `string` [`autogenerated`,`read_only`]

Holds the SSH certificate authority used by the account namespace.

===== `SSHCARenew` `boolean`

Set to `true` to renew the SSH certificate authority of the account
namespace.

===== `accessEnabled` `boolean`

Defines if the account holder should have access to the system.

===== `activationToken` `string` [`autogenerated`]

Contains the activation token.

===== `associatedBillingID` `string`

Holds the ID of the associated billing customer.

===== `associatedPlanKey` `string` [`creation_only`]

Contains the plan key associated with this account.

===== `company` `string`

Company of the account user.

===== `createTime` `time` [`autogenerated`,`read_only`]

Creation date of the object.

===== `email` `string` [`required`]

Email of the account holder.

===== `firstName` `string`

First name of the account user.

===== `lastName` `string`

Last name of the account user.

===== `localCA` `string` [`autogenerated`,`read_only`]

The certificate authority used by this namespace.

===== `localCARenew` `boolean`

Set to `true` to renew the local certificate authority of the account
namespace.

===== `name` `string` [`required`,`creation_only`,`format=^[^\*\=]*$`]

Name of the account.

===== `newPassword` `string`

New password for the account. If set the previous password must be given
through the property `password`.

===== `password` `string`

Password for the account.

===== `reCAPTCHAKey` `string` [`creation_only`]

Contains the completely automated public Turing test (CAPTCHA)
validation if reCAPTCHA is enabled.

===== `status` `enum(Active | Disabled | Invited | Pending)` [`autogenerated`,`read_only`]

Status of the account.

Default value:

[source,json]
----
"Pending"
----

===== `updateTime` `time` [`autogenerated`,`read_only`]

Last update date of the object.

=== Activate

Used to activate a pending account.

==== Example

[source,json]
----
{
  "token": "2BB3D52C-DE26-406A-8821-613F102282B0"
}
----

==== Relations

===== `GET /activate`

Activates a pending account.

Parameters:

* `noRedirect` (`boolean`): If set, do not redirect the request to the
web interface.
* `token` (`string`): Activation token.

Mandatory Parameters

`token`

==== Attributes

===== `token` `string` [`creation_only`]

Contains the activation token.

=== PasswordReset

Used to reset an Aporeto account password.

==== Example

[source,json]
----
{
  "password": "NewPassword123@",
  "token": "436676D4-7ECA-4853-A572-0644EE9D89EF"
}
----

==== Relations

===== `GET /passwordreset`

Sends a link to the account email to reset the password.

Parameters:

* `email` (`string`): Email associated to the account.

Mandatory Parameters

`email`

===== `POST /passwordreset`

Resets the password for an account using the provided link.

==== Attributes

===== `password` `string` [`required`]

Contains the new password.

===== `token` `string` [`required`]

Contains the reset password token.
