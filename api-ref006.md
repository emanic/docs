## core/monitoring

### Activity

Contains logs of all the activity that happened in a namespace. All successful
or
failed actions will be available, errors, as well as the claims of
the user who triggered the actions. This log is capped and only keeps the last
50,000 entries by default.

#### Relations

##### `GET /activities`

Retrieves the list of activity logs.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `GET /activities/:id`

Retrieves the object with the given ID.

#### Attributes

##### `ID` `string` [`identifier`,`autogenerated`,`read_only`]

Identifier of the object.

##### `claims` `object` [`autogenerated`,`read_only`]

Claims of the user who performed the operation.

##### `data` `object` [`autogenerated`,`read_only`]

_This attribute is deprecated_.

This is deprecated in favor of `diff`.

##### `date` `time` [`autogenerated`,`read_only`]

Time-date stamp of the notification.

##### `diff` `string` [`autogenerated`,`read_only`]

Contains the diff of the change.

##### `error` `object` [`autogenerated`,`read_only`]

Contains the error.

##### `message` `string`

Message of the notification.

##### `namespace` `string` [`autogenerated`,`read_only`]

Namespace tag attached to an entity.

##### `operation` `string` [`autogenerated`,`read_only`]

Describes what kind of operation the notification represents.

##### `originalData` `object` [`autogenerated`,`read_only`]

_This attribute is deprecated_.

This is deprecated in favor of `diff`.

##### `source` `string` [`autogenerated`,`read_only`]

Contains meta information about the source.

##### `targetIdentity` `string` [`autogenerated`,`read_only`]

The identity of the related object.

### Alarm

Represents an event requiring attention.

#### Example

```json
{
  "content": "This is an alarm",
  "emails": [
    "amir@aporeto.com",
    "john@aporeto.com"
  ],
  "kind": "aporeto.alarm.kind",
  "name": "the name",
  "protected": false,
  "status": "Open"
}
```

#### Relations

##### `GET /alarms`

Retrieves all the alarms.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `POST /alarms`

Creates a new alarm.

##### `DELETE /alarms/:id`

Deletes the object with the given ID.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `GET /alarms/:id`

Retrieves the object with the given ID.

##### `PUT /alarms/:id`

Updates the object with the given ID.

#### Attributes

##### `ID` `string` [`identifier`,`autogenerated`,`read_only`]

Identifier of the object.

##### `annotations` `map[string][]string`

Stores additional information about an entity.

##### `associatedTags` `[]string`

List of tags attached to an entity.

##### `content` `string` [`required`,`creation_only`]

Content of the alarm.

##### `createTime` `time` [`autogenerated`,`read_only`]

Creation date of the object.

##### `data` `[]map[string]string`

Data represent user data related to the alarms.

##### `description` `string` [`max_length=1024`]

Description of the object.

##### `emails` `[]string`

A list of recipients that should be emailed when this alarm is
created.

##### `kind` `string` [`required`,`creation_only`]

Identifies the kind of alarm. If two alarms are created with the same
identifier, then only the occurrence will be incremented.

##### `name` `string` [`required`,`max_length=256`]

Name of the entity.

##### `namespace` `string` [`autogenerated`,`read_only`]

Namespace tag attached to an entity.

##### `normalizedTags` `[]string` [`autogenerated`,`read_only`]

Contains the list of normalized tags of the entities.

##### `occurrences` `[]time.Time` [`autogenerated`,`creation_only`]

Number of times this alarm has been seen.

##### `protected` `boolean`

Defines if the object is protected.

##### `status` `enum(Acknowledged | Open | Resolved)`

Status of the alarm.

Default value:

```json
"Open"
```

##### `updateTime` `time` [`autogenerated`,`read_only`]

Last update date of the object.

### EventLog

Allows you to report various events on any object.

#### Example

```json
{
  "category": "enforcerd:policy",
  "content": "Unable to activate docker container xyz because abc.",
  "level": "Info",
  "targetID": "xxx-xxx-xxx-xxx",
  "targetIdentity": "processingunit",
  "title": "Error while activating processing unit."
}
```

#### Relations

##### `POST /eventlogs`

Creates a new event log for a particular entity.

#### Attributes

##### `category` `string` [`required`,`creation_only`]

Category of the event log.

##### `content` `string` [`required`,`creation_only`]

Content of the event log.

##### `date` `time` [`autogenerated`,`creation_only`]

Creation date of the event log.

##### `level` `enum(Debug | Info | Warning | Error | Critical)` [`creation_only`]

Sets the log level.

Default value:

```json
"Info"
```

##### `namespace` `string` [`autogenerated`,`read_only`,`creation_only`]

Namespace tag attached to the event log.

##### `opaque` `string` [`creation_only`]

Opaque data that can be attached to the event log, for further machine processing.

##### `targetID` `string` [`required`,`creation_only`]

ID of the object this event log is attached to. The object must be in the same
namespace than the event log.

##### `targetIdentity` `string` [`required`,`creation_only`]

Identity of the object this event log is attached to.

##### `title` `string` [`required`,`creation_only`]

Title of the event log.

### Message

Allows you to post public messages that will be visible through all
children namespaces.

#### Example

```json
{
  "level": "Info",
  "name": "the name",
  "propagate": false,
  "protected": false
}
```

#### Relations

##### `GET /messages`

Retrieves the list of messages.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.
- `propagated` (`boolean`): Also retrieve the objects that propagate down.

##### `POST /messages`

Creates a new message.

##### `DELETE /messages/:id`

Deletes the message with the given ID.

Parameters:

- `q` (`string`): Filtering query. Consequent `q` parameters will form an or.

##### `GET /messages/:id`

Retrieves the message with the given ID.

Parameters:

- `propagated` (`boolean`): Also retrieve the objects that propagate down.

##### `PUT /messages/:id`

Updates the message with the given ID.

#### Attributes

##### `ID` `string` [`identifier`,`autogenerated`,`read_only`]

Identifier of the object.

##### `annotations` `map[string][]string`

Stores additional information about an entity.

##### `associatedTags` `[]string`

List of tags attached to an entity.

##### `createTime` `time` [`autogenerated`,`read_only`]

Creation date of the object.

##### `description` `string` [`max_length=1024`]

Description of the object.

##### `expirationTime` `time`

The time after which the message will be deleted.

##### `level` `enum(Danger | Info | Warning)`

Importance of the message.

Default value:

```json
"Info"
```

##### `name` `string` [`required`,`max_length=256`]

Name of the entity.

##### `namespace` `string` [`autogenerated`,`read_only`]

Namespace tag attached to an entity.

##### `normalizedTags` `[]string` [`autogenerated`,`read_only`]

Contains the list of normalized tags of the entities.

##### `propagate` `boolean`

Propagates the policy to all of its children.

##### `protected` `boolean`

Defines if the object is protected.

##### `updateTime` `time` [`autogenerated`,`read_only`]

Last update date of the object.

##### `validity` `string` [`format=^[0-9]+[smh]$`]

Sets when the message will be automatically deleted using
[Golang duration syntax](https://golang.org/pkg/time/#example_Duration).

